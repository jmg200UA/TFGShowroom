<div class="container-fluid todo">
    <!-- Primera fila info general -->
    <div class="row pt-4" *ngIf="!loading">
        <!-- Primera columna titulo descripcion -->
        <div class="col-md-8 primeracol">
            <!-- Row para titulo-->
            <div class="row rowtitulo">
                <h2>{{trabajo.titulo}}</h2>
            </div>
            <div class="row nombre">
                {{trabajo.autor.nombre_apellidos}}
                <!-- <div class="col-md-8">

                </div>
                <div class="col-md-4">{{trabajo.autor.valoracion}} likes</div> -->
            </div>
            <!-- Row para descripcion -->
            <div class="row descripcion letrasmall" style="overflow: auto;">{{trabajo.resumen}}</div>
        </div>
        <!-- Segunda columna Imagen detalles -->
        <div class="col-md-4 segundacol">
            <!-- Row para la imagen -->
            <div class="row rowportada">
                <img class="micursor portadatrabajo" [src]="crearImagenUrl(trabajo.imagen) " alt="portada ">
            </div>
            <!-- Row para detalles -->
            <div class="row rowdetalles">
                <div class="row rowdet letrasmall">
                    <p><strong>Área: </strong> &nbsp; {{trabajo.area}}</p>
                </div>
                <div class="row rowdet letrasmall">
                    <p><strong>Carrera: </strong> &nbsp; {{trabajo.titulacion.nombre}}</p>
                </div>
                <div class="row rowdet letrasmall">
                    <p><strong>Director investigación: </strong> &nbsp; {{trabajo.director}}</p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Contenidos multimedia y extras -->
<div class="row pl-4 pr-4 pt-4 contenidos" *ngIf="!loading">
    <h2 class="mx-auto">Contenido multimedia</h2>
    <swiper [config]="config" class="swipercont">
        <ng-template *ngFor="let contenido of trabajo.contenidos; let i=index" class="swiper-slidecont card" swiperSlide>
            <ng-container *ngIf="contenido.tipo=='jpg' || contenido.tipo=='jpeg' || contenido.tipo=='png' || contenido.tipo=='PNG' || contenido.tipo=='YT' || contenido.tipo=='mp3' || contenido.tipo=='wav';else otroformato"></ng-container>
            <ng-container *ngIf="contenido.tipo=='jpg' || contenido.tipo=='jpeg' || contenido.tipo=='png' || contenido.tipo=='PNG'">
                <a [href]='crearContenidosUrl(contenido.contenido)' target="_blank"><img class="imagencont swiper-slidecont" [src]="crearContenidosUrl(contenido.contenido)" [alt]="contenido.nombre" /></a>
            </ng-container>
            <ng-container *ngIf="contenido.tipo=='YT'">
                <iframe class="swiper-slidecont" [src]="getVideoIframe(contenido.contenido)" [title]="contenido.nombre" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </ng-container>
            <ng-container *ngIf="contenido.tipo=='mp3' || contenido.tipo=='wav'">
                <div class="otroformato pb-4 pt-4 mr-2 ml-2 pr-4 pl-4">
                    <div class="row tipo">
                        <h5>{{contenido.nombre}} &nbsp; ({{contenido.tipo}})</h5>
                    </div>
                    <hr size="1px" color="black" />
                    <div class="row des pt-2 pb-2">{{contenido.descripcion}}</div>
                    <hr size="1px" color="black" />
                    <div class="row downl"><audio [src]="crearContenidosUrl(contenido.contenido)" controls [alt]="contenido.nombre"></audio></div>
                </div>
            </ng-container>
            <ng-template #otroformato>
                <div class="otroformato pb-4 pt-4 mr-2 ml-2 pr-4 pl-4">
                    <div class="row tipo">
                        <h5>{{contenido.nombre}} &nbsp; ({{contenido.tipo}})</h5>
                    </div>
                    <hr size="1px" color="black" />
                    <div class="row des pt-2 pb-2">{{contenido.descripcion}}</div>
                    <hr size="1px" color="black" />
                    <div class="row downl"><a [download]="contenido.nombre" [href]="crearContenidosUrl(contenido.contenido)"><i class="fas fa-download"></i></a></div>
                </div>
            </ng-template>
        </ng-template>
    </swiper>
</div>
